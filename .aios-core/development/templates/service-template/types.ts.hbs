/**
 * Type definitions for {{pascalCase serviceName}} service.
 * @module @aios/{{kebabCase serviceName}}/types
 * @story {{storyId}}
 */

/**
 * Configuration options for the {{pascalCase serviceName}} service.
 */
export interface {{pascalCase serviceName}}Config {
{{#each envVars}}
  /**
   * {{this.description}}
   {{#if this.required}}
   * @required
   {{/if}}
   */
  {{camelCase this.name}}{{#unless this.required}}?{{/unless}}: string;

{{/each}}
{{#if isApiIntegration}}
  /**
   * Base URL for the API.
   * @default '{{apiBaseUrl}}'
   */
  baseUrl?: string;

  /**
   * Request timeout in milliseconds.
   * @default 30000
   */
  timeout?: number;

  /**
   * Maximum number of retry attempts.
   * @default 3
   */
  maxRetries?: number;

  /**
   * Enable debug logging.
   * @default false
   */
  debug?: boolean;

{{/if}}
}

/**
 * The {{pascalCase serviceName}} service interface.
 */
export interface {{pascalCase serviceName}}Service {
  /**
   * Execute the primary service operation.
   */
  execute(): Promise<void>;

  /**
   * Get the current configuration (without sensitive values).
   */
  getConfig(): Partial<{{pascalCase serviceName}}Config>;

  /**
   * Check if the service is properly configured and operational.
   */
  healthCheck(): Promise<boolean>;
}

{{#if isApiIntegration}}
/**
 * Base API response structure.
 */
export interface {{pascalCase serviceName}}ApiResponse<T = unknown> {
  success: boolean;
  data?: T;
  error?: {
    code: string;
    message: string;
    details?: Record<string, unknown>;
  };
  meta?: {
    requestId?: string;
    rateLimit?: {
      remaining: number;
      reset: number;
    };
  };
}

/**
 * Request options for API calls.
 */
export interface {{pascalCase serviceName}}RequestOptions {
  /**
   * HTTP method.
   */
  method?: 'GET' | 'POST' | 'PUT' | 'PATCH' | 'DELETE';

  /**
   * Request headers.
   */
  headers?: Record<string, string>;

  /**
   * Request body.
   */
  body?: unknown;

  /**
   * Query parameters.
   */
  params?: Record<string, string | number | boolean>;

  /**
   * Request timeout override.
   */
  timeout?: number;

  /**
   * Skip retry on failure.
   */
  noRetry?: boolean;
}

/**
 * Rate limit information.
 */
export interface {{pascalCase serviceName}}RateLimit {
  /**
   * Maximum requests allowed.
   */
  limit: number;

  /**
   * Remaining requests in current window.
   */
  remaining: number;

  /**
   * Unix timestamp when the rate limit resets.
   */
  reset: number;
}

{{/if}}
